#!/bin/sh

# Easy way to 'hold' packages at a specified version, just make
# "$HOME/.cache/kiss/hold/" the first repo in your KISS_PATH.

[ -z "$1" ] && exit 1

pkg_id="${KISS_ROOT:-/}var/db/kiss/installed/$1/"

kiss_hold_repo="${XDG_CACHE_DIR:-$HOME/.cache}/kiss/hold/"

[ -d "$kiss_hold_repo" ] || mkdir -pv "$kiss_hold_repo"

if [ -d "$pkg_id" ]; then
    cp -r "$pkg_id" "$kiss_hold_repo"
fi

